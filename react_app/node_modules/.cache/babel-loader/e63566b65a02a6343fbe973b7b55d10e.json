{"ast":null,"code":"const GET_COMMENTS = 'comments/LOAD';\nconst DELETE_COMMENT = 'comment/DELETE';\n\nconst getCommentsAction = commentsOject => {\n  return {\n    type: GET_COMMENTS,\n    payload: commentsOject\n  };\n};\n\nconst deleteCommentAction = deletedComment => {\n  return {\n    type: DELETE_COMMENT,\n    payload: deletedComment\n  };\n};\n\nexport const getCommentsThunk = () => async dispatch => {\n  const response = await fetch('/comments');\n  let comment_obj = await response.json();\n  let commentArr = comment_obj.comments;\n  console.log(commentArr);\n\n  if (response.ok) {\n    dispatch(getCommentsAction(commentArr));\n  } else {//error stuff\n  }\n};\nexport const deleteCommentThunk = id => async dispatch => {\n  const response = await fetch(`/delete/${id}`);\n\n  if (response.ok) {\n    dispatch(deleteCommentAction(id));\n  } else {//error stuff\n  }\n};\nconst initialState = {};\nexport default function commentsReducer(state = initialState, action) {\n  const newState = { ...state\n  };\n\n  switch (action.type) {\n    case GET_COMMENTS:\n      return action.payload;\n\n    case DELETE_COMMENT:\n      delete newState[action.payload];\n      return newState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/drew/myrepo/React_EOD-starter/react_app/src/store/comments.js"],"names":["GET_COMMENTS","DELETE_COMMENT","getCommentsAction","commentsOject","type","payload","deleteCommentAction","deletedComment","getCommentsThunk","dispatch","response","fetch","comment_obj","json","commentArr","comments","console","log","ok","deleteCommentThunk","id","initialState","commentsReducer","state","action","newState"],"mappings":"AAAA,MAAMA,YAAY,GAAG,eAArB;AACA,MAAMC,cAAc,GAAG,gBAAvB;;AAGA,MAAMC,iBAAiB,GAAIC,aAAD,IAAmB;AAEzC,SAAO;AACHC,IAAAA,IAAI,EAAEJ,YADH;AAEHK,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CAND;;AAQA,MAAMG,mBAAmB,GAAIC,cAAD,IAAoB;AAC5C,SAAO;AACHH,IAAAA,IAAI,EAAEH,cADH;AAEHI,IAAAA,OAAO,EAAEE;AAFN,GAAP;AAIH,CALD;;AAOA,OAAO,MAAMC,gBAAgB,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACtD,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,WAAD,CAA5B;AACA,MAAIC,WAAW,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAxB;AACA,MAAIC,UAAU,GAAGF,WAAW,CAACG,QAA7B;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,UAAZ;;AACA,MAAGJ,QAAQ,CAACQ,EAAZ,EAAe;AACXT,IAAAA,QAAQ,CAACP,iBAAiB,CAACY,UAAD,CAAlB,CAAR;AACH,GAFD,MAEK,CACD;AACH;AACJ,CAVM;AAYP,OAAO,MAAMK,kBAAkB,GAAIC,EAAD,IAAQ,MAAOX,QAAP,IAAoB;AAC1D,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,WAAUS,EAAG,EAAf,CAA5B;;AACA,MAAGV,QAAQ,CAACQ,EAAZ,EAAe;AACXT,IAAAA,QAAQ,CAACH,mBAAmB,CAACc,EAAD,CAApB,CAAR;AACH,GAFD,MAEK,CACD;AACH;AACJ,CAPM;AAUP,MAAMC,YAAY,GAAG,EAArB;AACA,eAAe,SAASC,eAAT,CAAyBC,KAAK,GAAGF,YAAjC,EAA+CG,MAA/C,EAAuD;AAClE,QAAMC,QAAQ,GAAG,EAAC,GAAGF;AAAJ,GAAjB;;AACA,UAAQC,MAAM,CAACpB,IAAf;AACI,SAAKJ,YAAL;AACI,aAAOwB,MAAM,CAACnB,OAAd;;AACJ,SAAKJ,cAAL;AACI,aAAOwB,QAAQ,CAACD,MAAM,CAACnB,OAAR,CAAf;AACA,aAAOoB,QAAP;;AACJ;AACI,aAAOF,KAAP;AAPR;AAUH","sourcesContent":["const GET_COMMENTS = 'comments/LOAD'\r\nconst DELETE_COMMENT = 'comment/DELETE'\r\n\r\n\r\nconst getCommentsAction = (commentsOject) => {\r\n    \r\n    return {\r\n        type: GET_COMMENTS,\r\n        payload: commentsOject\r\n    }\r\n}\r\n\r\nconst deleteCommentAction = (deletedComment) => {\r\n    return {\r\n        type: DELETE_COMMENT,\r\n        payload: deletedComment\r\n    }\r\n}\r\n\r\nexport const getCommentsThunk = () => async (dispatch) => {\r\n    const response = await fetch('/comments')\r\n    let comment_obj = await response.json()\r\n    let commentArr = comment_obj.comments\r\n    console.log(commentArr)\r\n    if(response.ok){\r\n        dispatch(getCommentsAction(commentArr))\r\n    }else{\r\n        //error stuff\r\n    }\r\n}\r\n\r\nexport const deleteCommentThunk = (id) => async (dispatch) => {\r\n    const response = await fetch(`/delete/${id}`)\r\n    if(response.ok){\r\n        dispatch(deleteCommentAction(id))\r\n    }else{\r\n        //error stuff\r\n    }\r\n} \r\n\r\n\r\nconst initialState = {}\r\nexport default function commentsReducer(state = initialState, action) {\r\n    const newState = {...state}\r\n    switch (action.type) {\r\n        case GET_COMMENTS:\r\n            return action.payload\r\n        case DELETE_COMMENT:\r\n            delete newState[action.payload]\r\n            return newState \r\n        default:\r\n            return state\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}